sudo apt update
sudo apt install python3-dev libffi-dev gcc libssl-dev

sudo apt install python3-pip
sudo pip3 install -U pip
sudo apt install ansible

sudo pip3 install kolla-ansible

sudo mkdir -p /etc/kolla
sudo chown $USER:$USER /etc/kolla

cp -r /usr/local/share/kolla-ansible/etc_examples/kolla/* /etc/kolla
cp /usr/local/share/kolla-ansible/ansible/inventory/* .

git clone https://github.com/openstack/kolla
git clone https://github.com/openstack/kolla-ansible

sudo pip3 install ./kolla
sudo pip3 install ./kolla-ansible

sudo mkdir -p /etc/kolla
sudo chown $USER:$USER /etc/kolla

cp -r kolla-ansible/etc/kolla/* /etc/kolla

cp kolla-ansible/ansible/inventory/* .

vim /etc/ansible/ansible.cfg
*script
[defaults]
host_key_checking=False
pipelining=True
forks=100

kolla-genpwd

cd /etc/kolla
vim globals.yml
# kolla_base_distro: "ubuntu"
# kolla_install_type: "source"
# openstack_release: "wallaby"
# kolla_internal_vip_address: "172.23.0.100"
# network_interface: "ens160"
# neutron_external_interface: "ens192"
# neutron_plugin_agent: "openvswitch"

cd kolla
kolla-ansible -i all-in-one bootstrap-servers
kolla-ansible -i all-in-one prechecks
kolla-ansible -i all-in-one deploy